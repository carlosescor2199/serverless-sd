(this["webpackJsonpserverless-sd-app"]=this["webpackJsonpserverless-sd-app"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(1),s=c.n(r),a=c(7),i=c.n(a),o=(c(25),c(26),c(8)),l=c(6),d=c.n(l),u=c(11),j=c(13),b=c(15),p=c(19),m=(c(28),p.a.initializeApp({apiKey:"AIzaSyCxtvbO5DWbF3Xr_oanVRGZ1qs4ZpiJ0E8",authDomain:"serverlesssd.firebaseapp.com",databaseURL:"https://serverlesssd.firebaseio.com",projectId:"serverlesssd",storageBucket:"serverlesssd.appspot.com",messagingSenderId:"454301353558",appId:"1:454301353558:web:86281a41947493cbe39df7"}).firestore());function f(e){Object(r.useEffect)((function(){""===e.currentId?i({url:"",name:"",description:""}):t(e.currentId)}),[e.currentId]);var t=function(){var e=Object(u.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("links").doc(t).get();case 2:c=e.sent,i(Object(o.a)({},c.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=Object(r.useState)({url:"",name:"",description:""}),s=Object(j.a)(c,2),a=s[0],i=s[1],l=function(e){var t=e.target,c=t.name,n=t.value;i(Object(o.a)(Object(o.a)({},a),{},Object(b.a)({},c,n)))};return Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.addOrEdit(a),i({url:"",name:"",description:""})},className:"card card-body",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("div",{className:"input-group-text bg-light",children:Object(n.jsx)("i",{className:"material-icons",children:"insert_link"})}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"https://someurl.com",name:"url",onChange:l,value:a.url})]}),Object(n.jsx)("div",{className:"form-group input-group-text bg-light",children:Object(n.jsx)("i",{className:"material-icons",children:"create"})}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"websitename",onChange:l,value:a.name}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("textarea",{name:"description",cols:"30",rows:"3",className:"form-control",placeholder:"Write a description",onChange:l,value:a.description})}),Object(n.jsx)("button",{className:"btn btn-primary btn-block",children:""===e.currentId?"Save":"Update"})]})}var O=c(12);function h(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)(""),i=Object(j.a)(a,2),l=i[0],b=i[1];Object(r.useEffect)((function(){h()}),[]);var p=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==l){e.next=6;break}return e.next=3,m.collection("links").doc().set(t);case 3:Object(O.b)("New Link added",{type:"success"}),e.next=9;break;case 6:return e.next=8,m.collection("links").doc(l).update(t);case 8:Object(O.b)("Link updated successfully",{type:"success"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.collection("links").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id}))})),s(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this link?")){e.next=4;break}return e.next=3,m.collection("links").doc(t).delete();case 3:Object(O.b)("Link deleted successfully",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"col-md-12 p-2",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(f,Object(o.a)({},{addOrEdit:p,currentId:l,links:c}))}),Object(n.jsx)("div",{className:"col-md-8 p-2",children:c.map((function(e){return Object(n.jsx)("div",{className:"card mb-1",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)("h4",{children:e.name}),Object(n.jsxs)("div",{children:[Object(n.jsx)("i",{className:"material-icons text-danger",onClick:function(){return x(e.id)},children:"close"}),Object(n.jsx)("i",{className:"material-icons text-success",onClick:function(){return b(e.id)},children:"create"})]})]}),Object(n.jsx)("p",{children:e.description}),Object(n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:"Go to website"})]})},e.id)}))})]})}c(33);var x=function(){return Object(n.jsxs)("div",{className:"container p-4",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(h,{})}),Object(n.jsx)(O.a,{})]})};c(34);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.7f1b19b0.chunk.js.map